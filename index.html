<html>
<head>
<uses-permission android:name="android.permission.ACCESS_GPS" />
<uses-permission android:name="android.permission.ACCESS_ASSISTED_GPS" />
<uses-permission android:name="android.permission.ACCESS_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
<script>
WebChromeClient.onGeolocationPermissionsShowPrompt()	
import android.webkit.WebSettings;
WebView myWebView = findViewById(R.id.webview);
WebSettings webSettings = myWebView.getSettings();
webSettings.setJavaScriptEnabled(true);
webSettings.setGeolocationEnabled(true); // Enable geolocation

webView.setWebChromeClient(new WebChromeClient() {
 public void onGeolocationPermissionsShowPrompt(String origin, GeolocationPermissions.Callback callback) {
    callback.invoke(origin, true, false);
 }
});	
</script>	
</head>
<body>
	 
<h1>hi</h1>
<p id="location"></p>
<p id="locat"></p>
<script>	 
 document.getElementById("locat").innerHTML = "xxxxxxxxxxx";
 function getLocation() {
    // Если геолокация поддерживается браузером

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(showPosition);
    } else {
      document.getElementById("location").innerHTML = "Геолокация не поддерживается.";
    }
  }
  function showPosition(position) {
    var lat = position.coords.latitude;
    var lon = position.coords.longitude;
    document.getElementById("location").innerHTML = "Широта: " + lat + "<br>Долгота: " + lon;
  }
		
	 
getLocation();
</script>


	 
</body>
</html>
